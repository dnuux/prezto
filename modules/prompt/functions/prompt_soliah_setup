#
# A simple theme that only shows relevant information.
#

function prompt_soliah_precmd {
  setopt LOCAL_OPTIONS
  unsetopt XTRACE KSH_ARRAYS

  vcs_info
}

function prompt_soliah_setup {
  setopt LOCAL_OPTIONS
  unsetopt XTRACE KSH_ARRAYS
  prompt_opts=(cr percent subst)

  autoload -Uz add-zsh-hook
  add-zsh-hook precmd prompt_soliah_precmd

  autoload -Uz vcs_info
  zstyle ':vcs_info:*' enable git

  zstyle ':omz:module:editor' completing '%B%F{red}...%f%b'
  zstyle ':vcs_info:git*' formats ' %{%F{blue}%}%s:%{%F{red}%}%b%{$reset_color%}%f'

  PROMPT='%{%F{cyan}%}%n%f on %{%F{red}%}%M%f in %{%F{blue}%}%~%b%{$reset_color%}${(e)vcs_info_msg_0_}
$ '
  SPROMPT='zsh: correct %F{red}%R%f to %F{blue}%r%f [nyae]? '
}

prompt_soliah_setup "$@"
